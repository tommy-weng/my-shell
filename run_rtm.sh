#!/bin/bash

FILE_NAME=TC_20M_Conf_2_7_LTE4427_8TM_UeWithDualLayer_PM_Counter.rtm
#TC_20M_Config_2_LTE4427_8UE_16Layer_Paired_Check_Peak_Throughput.rtm
#TC_20M_Config_2_LTE3463_TM8_4UE_8Layer_ReTx_Pair.rtm

#TC_20M_Config_2_LTE3463_3UEs_Pair_Different_Traffic_Check_DMRS.rtm
#TC_20M_Config_2_LTE3463_3UEs_Pair_Gbr_NonGbr_Mix_Schduled_With_Same_QciWeight.rtm
#TC_20M_Config_2_LTE3463_3UE_NonGbr_NotFullBuff_Weight_1_2_4_ScheduledBaseQciWeight.rtm
#TC_20M_Config_2_LTE3463_3UE_NonGbr_FullBuff_Weight_1_2_4_HighWeighUeGetHighPriority.rtm
#TC_20M_Config_2_7_LTE3463_Two_TM8_CorrelationIsLessThanThreshold_When_ReportSrs.rtm
#TC_20M_Conf-2_LTE3463_PdcchBlockUe_Pair_With_NewTxUe.rtm
#TC_20M_Conf-2_LTE3463_PdcchBlock.rtm
#TC_20M_Config_2_LTE3463_TM8_2ReTxUe_1NewTx_Paired_Only_2ReTxUe_Scheduled_Limited_By_LayerSize.rtm
#TC_10M_Conf_1_7_DL_PR142091_TM8_NonGbr_OneCodeWordNewTx_OneCodeWordReTx_Prb_alloc.rtm
#TC_20M_Conf-1_LTE1558A_0003_CA_UE_M1_A3_HARQ_DualStream_ACK_all_NACK_cw1_in_PCell.rtm
#TC_20M_Config_2-7_LTE3463_03_2TM8_UE_SRB_Scheduled.rtm
#TC_20M_Config_2_LTE3463_01_TM8_SL_2UE_pair.rtm

#TC_20M_Config_2_LTE3463_2TM8_UE_VRB_RBG_Subframe_0_4.rtm
#TC_20M_Config_2_LTE3463_01_TM8_SL_2UE_pair.rtm
#TC_20M_Conf-1_LTE569_02_TM4_CLMIMO4x4_From_4layers_To_3layers_To_TxDiv.rtm
#TC_20M_Conf-1_0006_Category2_TM3_1CW_Reach_Peak_Tput.rtm
#TC_10M_Conf_1_DL_LBT2564_002_TM2_3UE_Pdcch_Lack.rtm


#TC_20M10M_Conf-2_LTE_1830_B_g_002_TM4_Pcell10M_Scell20M_UeCat2.rtm
#TC_20M_Conf-1_0003_Category3_TM3_2CW_Reach_Peak_Tput.rtm
#TC_20M_Conf_1_LTE1982_0001_Ue1_In_Primary_PLMN_ID_And_Ue2_In_Other_PLMN_ID_For_DL.rtm
#TC_20M_Conf-1_LTE569_03_TM4_CLMIMO4x4_From_2layers_To_4layers_DownGradeTo2layers_To_TxDiv.rtm

#TC_20M_Conf_1_LTE1982_0002_Ue1_In_Primary_PLMN_ID_And_Ue2_In_Other_PLMN_ID_For_UL.rtm

#TC_10M_Conf-1_LTE2462_B_e_007_TM9_SwitchTo_TM3_With_Gbr_and_NonGbr_Non_Driving_Gbr.rtm
#wsq_TM9.rtm

#TC_20M_Conf-1_UL_lte1042_023_ULMUMIMO_PUSCH_Congestion.rtm

#TC_20M_Conf-1_LTE_1830_a_c_004_sCellDeactivationTimerEnb_old_equal_infinity_new_smaller_than_old.rtm
#TC_20M_Conf_1_LTE1982_0002_3Ues_In_Primory_PLMN_ID_2Ues_In_Other_PLMN_ID_For_DL.rtm
#TC_20M_Conf-1_DL_LTE1541-A-c_nonGBR_Buffer_Based_Scell_Addition_1CC_to_2CC.rtm
#TC_20M_Config_1_LTE2022_A_b_02_TM8_MaxMuGain_3Ue_UnpairedUE.rtm
#TC0001_20M_Conf-1_msg4_srb0_singleUe_newTx_reTx_dvrb.rtm
#TC_20M_Conf1_DLDRX_139_DRX_From_Activated_To_Deactivated.rtm
#TC_20M_Conf-1_LTE569_05_TM4_CLMIMO4x4_Ri4_NewTx_Then_CW0_NACKed_CW1_ACKed_To_Ri3_ReTx_With_NewData.rtm
#TC_20M_Conf1-7_LTE568_4x2CLMIMO_0020b_Two_CWs_NACKed_And_Current_MIMO_Mode_SingleCw_TM4_SingleLayer_ActFastMimoSwitch_Disable.rtm
#TC_20M_Conf-1_LTE569_08_TM4_CLMIMO4x4_Ri4_NewTx_Then_CW0_ACKed_CW1_NACKed_To_Ri3_ReTx_With_NewData.rtm
#TC_20M_Conf-1_LTE569_04_TM4_CLMIMO4x4_Ri2_And_Ri3_Then_Cw0_ACKed_CW1_NACKed_ReTx_Without_NewData.rtm
#TC_20M_Conf-1_LTE1562_B_i_0001_2of3CC_1PCellA_2SCellB_1PcellC_TwoUE_add_active_Dldata_release.rtm
#TC_20M_Conf_1_7_LA_Periodic_CQI_PDSCH_Demo.rtm
#TC_20M_Conf-1_LTE569_01_TM4_CLMIMO4x4_From_TxDiv_To_4layers_To_1layer.rtm
#TC_20M_Conf-1_LTE569_07_TM4_CLMIMO4x4_Ri4_NewTx_Then_Double_NACKed_FallbackTxDiv.rtm
#TC_20M_Conf-1_LTE569_02_TM4_CLMIMO4x4_From_4layers_To_3layers_To_TxDiv.rtm


#TC_20M_Conf-1_LTE569_06_TM4_CLMIMO4x4_Ri3_NewTx_Then_Double_NACKed_To_Ri1_ReTx.rtm
#TC_20M_Conf_1_7_LA_Aperiodic_CQI_PDSCH_Demo.rtm
#TC_20M_Conf-1_LA_PDSCH_0013_MCS_PRB_Allocation_with_AperiodicCQI_RM12_For_RBG_TM4_MIMO4x2_wsq.rtm
#TC_10M_Conf-1_LA_PDSCH_0002_MCS_PRB_Allocation_with_PeriodicCQI_RM11_For_RBG_TM4_MIMO4x2_wsq.rtm
#TC_20M_Conf1-7_LTE569_TM4_4x4CLMIMO_0001_Fast_Switch_Periodic_CQI_Single_Ue.rtm
#TC_20M_Conf1-7_LTE568_4x2CLMIMO_0020_Two_CWs_NACKed_And_Current_MIMO_Mode_SingleCw_TM4_SingleLayer.rtm
#TC_10M_Conf-1_LA_PDSCH_0002_MCS_PRB_Allocation_with_PeriodicCQI_RM11_For_RBG_TM4_MIMO4x2_wsq.rtm
#TC_20M_Conf-1_LTE1543_A_b_0005_TM9_Periodic_CSI_Mode21_CL_SL_PUCCH.rtm

cd ./C_Test/SC_MAC/MacLinuxRtm/PsScheduler
var=$1
var2=$2
if [ -n "$var" ];then
  if [ "gdb" == "$var" ]; then
    gdb --args LteMacClient --startup=nid=0x1443, -c lte.rtm.startup.script=$FILE_NAME
  elif [ "2" == "$var" ]; then
    if [ "gdb" == "$var2" ]; then
      gdb --args LteMacClient --startup=masternid=0x1011,slavenids=0x2011,debugdelay=20,mode=ps -c lte.rtm.startup.script=$FILE_NAME
    else  
      ./LteMacClient --startup=masternid=0x1011,slavenids=0x2011,mode=ps -c lte.rtm.startup.script=$FILE_NAME
    fi  
  elif [ "3" == "$var" ]; then
    if [ "gdb" == "$var2" ]; then
      gdb --args LteMacClient --startup=masternid=0x1011,slavenids=0x2011\#0x3011,debugdelay=20,mode=ps -c lte.rtm.startup.script=$FILE_NAME
    else
      ./LteMacClient --startup=masternid=0x1011,slavenids=0x2011\#0x3011,mode=ps -c lte.rtm.startup.script=$FILE_NAME
    fi
  else
    echo "Plesae input correct pramater, eg. gdb"
  fi
else 
  ./LteMacClient --startup=nid=0x1443, -c lte.rtm.startup.script=$FILE_NAME
fi
